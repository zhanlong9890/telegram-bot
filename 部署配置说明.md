# 🚀 快速部署配置

## 📋 部署前检查

### 1. 必需文件
- ✅ `bot.py` - 主程序
- ✅ `requirements.txt` - 依赖列表
- ✅ `config.py` - 配置文件
- ✅ `.env` - 环境变量（本地测试用）

### 2. 可选文件（平台特定）
- `Procfile` - Railway/Heroku 使用
- `railway.json` - Railway 配置
- `runtime.txt` - Python 版本

---

## 🔧 环境变量配置

### 本地测试（.env 文件）
```env
BOT_TOKEN=你的机器人Token
ADMIN_IDS=你的用户ID（可选，多个用逗号分隔）
```

### 云端部署
在平台的环境变量设置中添加：
- `BOT_TOKEN` = 你的机器人Token
- `ADMIN_IDS` = 你的用户ID（可选）

---

## 📦 依赖安装

### requirements.txt
```txt
python-telegram-bot==20.7
python-dotenv==1.0.0
```

### 安装命令
```bash
pip install -r requirements.txt
```

---

## 🎯 启动命令

### 本地运行
```bash
python bot.py
```

### 云端部署
- **Railway**: `python bot.py`
- **Render**: `python bot.py`
- **Fly.io**: `python bot.py`

---

## ✅ 部署检查清单

- [ ] 代码已推送到 GitHub
- [ ] `requirements.txt` 存在且正确
- [ ] `bot.py` 是主程序（有 `if __name__ == '__main__'`）
- [ ] 环境变量 `BOT_TOKEN` 已配置
- [ ] 测试本地运行正常
- [ ] 部署后测试 `/start` 命令

---

## 🐛 常见问题

### 问题1: 机器人不响应
**解决**：
1. 检查 `BOT_TOKEN` 是否正确
2. 查看平台日志
3. 确认机器人已启动

### 问题2: 导入错误
**解决**：
1. 确认 `requirements.txt` 包含所有依赖
2. 检查 Python 版本（推荐 3.9+）

### 问题3: 环境变量未生效
**解决**：
1. 确认在平台正确配置环境变量
2. 重启服务

---

## 📚 详细部署指南

查看 [免费云端部署指南.md](./免费云端部署指南.md) 获取详细步骤。

